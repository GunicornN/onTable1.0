{% load socialaccount %}
{% providers_media_js %}
{% load static %}
{% load crispy_forms_tags %}
{% load i18n %}

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="icon" href="{% static 'img/logo/logo.png' %}">

    <title>{% trans "S'inscrire" %}</title>

    <!-- Custom styles for this template NEW-->
    <link rel="stylesheet" href="{% static 'css/public/form.css' %}">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  </head>

  <body class="text-center" id="grad">
    <div id="myModal" class="modal in" role="dialog" style="display:block; overflow: auto">
      <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <a href="{% url 'homePage' %}" class="text-dark">{% trans "Retour" %}</a>
          </div>
          {% if messages %}
            {% for message in messages  %}
                <div class="alert alert-{{ message.tags}}" role="alert">
                    {{message}}
                </div>
            {% endfor %}
          {% endif %}

          {% if form.errors %}
            <div class="alert alert-danger mx-2" role="alert">
              {% for field in form %}
                {% for error in field.errors %}

                          <p>{{field.label}} : {{ error|escape }}</p>

                {% endfor %}
              {% endfor %}
            </div>
          {% endif %}

          <div class="modal-body ml-4">
            <form method="post" enctype="multipart/form-data" class="row">
              {% csrf_token %}
              <!-- User Form -->
              <div class="col-md-6">
                <div class="text-left">{% trans "Prénom" %}</div>
                <div class="d-flex align-content-left">
                  {{ form.first_name }}
                </div>
              </div>

              <div class="col-md-6">
                <div class="text-left">{% trans "Nom" %}</div>
                <div class="d-flex align-content-left">
                  {{ form.last_name }}
                </div>
              </div>

              <div class="col-md-6 mt-2">
                <div class="text-left">{% trans "Entreprise" %}</div>
                <div class="d-flex align-content-left">
                  {{ form.name }}
                </div>
              </div>

              <div class="col-md-6 mt-2">
                <div class="text-left">{% trans "E-mail" %}</div>
                <div class="d-flex align-content-left">
                  {{ form.email }}
                </div>
              </div>

              <div class="col-md-6 mt-2">
                <div class="text-left">{% trans "Adresse Enteprise" %}</div>
                <div class="d-flex align-content-left">
                  {{ form.address1 }}
                </div>
              </div>

              <div class="col-md-6 mt-2">
                <div class="text-left">{% trans "Complément d'adresse" %}</div>
                <div class="d-flex align-content-left">
                  {{ form.address2 }}
                </div>
              </div>

              <div class="col-md-6 mt-2">
                <div class="text-left">{% trans "Ville" %}</div>
                <div class="d-flex align-content-left">
                  {{ form.city }}
                </div>
              </div>

              <div class="col-md-6 mt-2">
                <div class="text-left">{% trans "Code postal" %}</div>
                <div class="d-flex align-content-left">
                  {{ form.zip_code }}
                </div>
              </div>

              <div class="col-md-6 mt-2">
                <div class="text-left">{% trans "Mot de passe" %}</div>
                <div class="d-flex align-content-left">
                  {{ form.password1 }}
                </div>
              </div>

              <div class="col-md-6 mt-2">
                <div class="text-left">{% trans "Confirmation mot de passe" %}</div>
                <div class="d-flex align-content-left">
                  {{ form.password2 }}
                </div>
              </div>

              <div class="col-md-12 d-flex justify-content-center my-3">
                <div>
                  {{ form.captcha }}
                </div>
              </div>

              <p class="mr-4">{% blocktrans %} En vous inscrivant, vous acceptez nos {% endblocktrans %} <a href="{% static 'pdf/Conditions_Generales_dUtilisation.pdf' %}"> {% blocktrans %} conditions d'utilisation{% endblocktrans %}</a> {% blocktrans %}et notre {% endblocktrans %}<a href="{% static 'pdf/Politique_de_Confidentialite.pdf' %}">{% blocktrans %}politique de confidentialité {% endblocktrans %} </a>.</p>

              <div class="col-md-12 d-flex justify-content-center">
                <button class="btn btn-success" type="submit">{% trans "S'inscrire" %}</button>
              </div>
              
            </form>

              Ou bien 
            <div class="modal-body ml-4"">
              <a href="{% provider_login_url "facebook" method="js_sdk" %}" class="btn btn-block btn-social btn-facebook"  style="background-color:#3b5998;color: aliceblue;">
                Connectez-vous avec Facebook
               </a>
            </div>
          </div>
        </div>
      </div>

